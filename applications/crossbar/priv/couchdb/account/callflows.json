{
    "_id": "_design/callflows"
    ,"language": "javascript"
    ,"views": {
        "crossbar_listing": {
            "map": "function(doc) { if (doc.pvt_type != 'callflow' || doc.pvt_deleted) return; var featurecode = (!doc.featurecode) ? false : doc.featurecode; emit(doc._id, {'id': doc._id, 'name': doc.name, 'type': doc.type, 'numbers': doc.numbers, 'patterns': doc.patterns, 'featurecode': featurecode, 'owner_id': doc.owner_id, 'group_id': doc.group_id, 'user_id': doc.flow.data.id}); }"
        },
        "queue_callflows": {
        	"map": "function(doc) { if (doc.pvt_type != 'callflow' || doc.pvt_deleted) return; if(doc.flow.module != 'acdc_member') return; emit(doc.flow.data.id, doc.numbers); }"
        }
    }
    ,"filters": {
        "export":"function(doc, req) { return ( doc.pvt_type == 'callflow' ); }"
    }
}
